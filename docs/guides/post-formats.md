---
title: "Post Output Formats"
description: "Configure multiple output formats for posts including HTML, Markdown source, and OpenGraph cards"
date: 2026-01-22
published: true
tags:
  - configuration
  - output
  - social-media
---

# Post Output Formats

markata-go can generate multiple output formats for each post beyond the standard HTML. This enables use cases like providing raw markdown for API consumers or generating social media preview cards.

## Configuration

Configure output formats in your `markata-go.toml`:

```toml
[markata-go.post_formats]
html = true       # Standard HTML (default: true)
markdown = false  # Raw markdown source
og = false        # OpenGraph card HTML
```

## Available Formats

### HTML (default)

The standard HTML output, generated by default.

**Output:** `/your-post/index.html`

```toml
[markata-go.post_formats]
html = true  # This is the default
```

### Markdown

Outputs the raw markdown source with reconstructed frontmatter. Useful for:
- "View Source" links on your site
- API consumers who want raw content
- Copy-paste workflows

**Output:** `/your-post/index.md`

```toml
[markata-go.post_formats]
markdown = true
```

The markdown output includes the original frontmatter:

```markdown
---
title: "Your Post Title"
description: "Post description"
date: 2026-01-22
published: true
tags:
  - example
---

Your original markdown content...
```

### OpenGraph Card (OG)

Generates a special HTML page optimized for screenshot tools to create social media preview images. The page is sized at 1200x630 pixels (standard OG image dimensions).

**Output:** `/your-post/og/index.html`

```toml
[markata-go.post_formats]
og = true
```

#### Using OG Cards for Social Images

The OG card HTML is designed to be captured by screenshot tools like Puppeteer or Playwright:

```javascript
// Example with Puppeteer
const browser = await puppeteer.launch();
const page = await browser.newPage();
await page.setViewport({ width: 1200, height: 630 });
await page.goto('https://yoursite.com/your-post/og/');
await page.screenshot({ path: 'og-image.png' });
```

The default OG card template includes:
- Post title (large, prominent)
- Post description (if available)
- Up to 3 tags
- Site title
- Publication date

You can customize the OG card appearance by providing your own `og.html` template.

## Homepage with index.md

markata-go provides special handling for `index.md` files to create homepages and directory-based URLs:

| File Path | Generated URL |
|-----------|---------------|
| `./index.md` | `/` (homepage) |
| `docs/index.md` | `/docs/` |
| `blog/guides/index.md` | `/blog/guides/` |

### Creating a Homepage

Simply create an `index.md` file in your content root:

```markdown
---
title: "Welcome to My Site"
description: "A personal blog about programming"
published: true
template: home.html
---

# Welcome

This is my homepage content...
```

This generates `/index.html` as your site's homepage, allowing custom content instead of requiring a feed with empty slug.

### Directory Index Pages

Create `index.md` files in subdirectories for section landing pages:

```
docs/
  index.md          -> /docs/
  getting-started.md -> /docs/getting-started/
  guides/
    index.md        -> /docs/guides/
    advanced.md     -> /docs/guides/advanced/
```

## Example Configuration

A typical configuration enabling all formats:

```toml
[markata-go]
url = "https://example.com"
title = "My Site"

[markata-go.post_formats]
html = true      # Standard pages
markdown = true  # View source support
og = true        # Social card generation
```

## Automation Example

Here's a complete workflow for generating social images:

1. **Enable OG format** in your config:
   ```toml
   [markata-go.post_formats]
   og = true
   ```

2. **Build your site**:
   ```bash
   markata-go build
   ```

3. **Generate screenshots** with a script:
   ```bash
   #!/bin/bash
   for og_page in output/*/og/index.html; do
     post_dir=$(dirname $(dirname "$og_page"))
     slug=$(basename "$post_dir")
     npx puppeteer screenshot \
       --viewport 1200x630 \
       "file://$og_page" \
       "$post_dir/og-image.png"
   done
   ```

4. **Reference in templates**:
   ```html
   <meta property="og:image" content="{{ config.url }}{{ post.href }}og-image.png">
   ```

## See Also

- [Configuration Guide](./configuration.md) - Full configuration reference
- [Templates Guide](./templates.md) - Customizing templates including og.html
- [Deployment Guide](./deployment.md) - Deploying your generated site
