{# Post byline - shows author(s), date, and reading time #}
{# Supports multi-author display with per-post roles #}

{% if post.author_objects %}
{# Multi-author byline from resolved author objects #}
<div class="post-byline post-byline--multi">
    <div class="post-byline__authors">
    {% for author_obj in post.author_objects %}
        <span class="post-byline__author p-author h-card">
            {% if author_obj.url %}
            <a class="u-url p-name post-byline__name" href="{{ author_obj.url }}" rel="author">{{ author_obj.name }}</a>
            {% else %}
            <span class="p-name post-byline__name">{{ author_obj.name }}</span>
            {% endif %}
            {% if author_obj.role_display %}
            <span class="post-byline__role">({{ author_obj.role_display }})</span>
            {% endif %}
            {% if not forloop.Last %}<span class="post-byline__sep">, </span>{% endif %}
        </span>
    {% endfor %}
    </div>

    {% if post.date or post.reading_time %}
    <div class="post-meta post-byline__meta">
        {% if post.date %}
        <time class="dt-published" datetime="{{ post.date | atom_date }}">{{ post.date | date:"January 2, 2006" }}</time>
        {% endif %}
        {% if post.reading_time %}
        <span class="post-meta__reading-time">{{ post.reading_time }} min read</span>
        {% endif %}
    </div>
    {% endif %}
</div>

{% elif config.author %}
{# Single author fallback from config #}
<div class="post-byline p-author h-card">
    {% if config.url %}
    <a class="u-url p-name post-byline__name" href="{{ config.url }}" rel="author">{{ config.author }}</a>
    {% else %}
    <span class="p-name post-byline__name">{{ config.author }}</span>
    {% endif %}

    {% if post.date or post.reading_time %}
    <div class="post-meta post-byline__meta">
        {% if post.date %}
        <time class="dt-published" datetime="{{ post.date | atom_date }}">{{ post.date | date:"January 2, 2006" }}</time>
        {% endif %}
        {% if post.reading_time %}
        <span class="post-meta__reading-time">{{ post.reading_time }} min read</span>
        {% endif %}
    </div>
    {% endif %}
</div>

{% elif post.date or post.reading_time %}
{# No author info, just date/reading time #}
<div class="post-meta post-meta--header">
    {% if post.date %}
    <time class="dt-published" datetime="{{ post.date | atom_date }}">{{ post.date | date:"January 2, 2006" }}</time>
    {% endif %}
    {% if post.reading_time %}
    <span class="post-meta__reading-time">{{ post.reading_time }} min read</span>
    {% endif %}
</div>
{% endif %}
