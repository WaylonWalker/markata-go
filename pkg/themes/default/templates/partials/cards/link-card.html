{# Link Card - URL preview style for links, bookmarks, TIL posts #}
{# Shows domain, title, description in preview card style #}
<article class="card card-link h-entry">
  <header class="card-header">
    <a href="{{ post.href }}" class="card-link-wrapper u-url">
      {% if post.image %}
      <div class="card-link-image">
        <img src="{{ post.image }}" alt="" class="u-photo" width="120" height="80" loading="lazy">
      </div>
      {% endif %}

      <div class="card-link-content">
        {% if post.url %}
        <span class="card-domain">{{ post.url | default:post.href }}</span>
        {# Mark external URL as bookmark-of for IndieWeb #}
        <data class="u-bookmark-of" value="{{ post.url }}" hidden></data>
        {% endif %}

        <h3 class="card-title p-name">{{ post.title | default:post.slug }}</h3>
      </div>
    </a>
  </header>

  <div class="card-body">
    {% if post.description %}
    <p class="card-description p-summary">{{ post.description | truncatechars:120 }}</p>
    {% endif %}
  </div>

  <footer class="card-meta">
    {% if post.date %}
    <time class="dt-published" datetime="{{ post.date | atom_date }}">{{ post.date | date:"January 2, 2006" }}</time>
    {% endif %}
    {% if post.tags %}
    <div class="card-tags">
      {% for tag in post.tags %}
      <a href="/tags/{{ tag | slugify }}/" class="tag p-category">{{ tag }}</a>
      {% endfor %}
    </div>
    {% endif %}
  </footer>
</article>
