{# HTMX Pagination - uses hx-* attributes for AJAX loading #}
{% if page.total_pages > 1 %}
<nav class="pagination pagination-htmx" aria-label="Pagination" hx-boost="true">
  {# Previous button #}
  {% if page.has_prev %}
  <a href="{{ page.prev_url }}"
     class="pagination-prev"
     rel="prev"
     hx-get="{{ page.prev_url }}"
     hx-target=".posts-list"
     hx-select=".posts-list"
     hx-swap="outerHTML transition:true"
     hx-push-url="true">&laquo; Newer</a>
  {% else %}
  <span class="pagination-prev disabled">&laquo; Newer</span>
  {% endif %}

  {# Page numbers #}
  <div class="pagination-pages">
    {% for url in page.page_urls %}
    {% if forloop.Counter == page.number %}
    <span class="pagination-page current" aria-current="page">{{ forloop.Counter }}</span>
    {% else %}
    <a href="{{ url }}"
       class="pagination-page"
       hx-get="{{ url }}"
       hx-target=".posts-list"
       hx-select=".posts-list"
       hx-swap="outerHTML transition:true"
       hx-push-url="true">{{ forloop.Counter }}</a>
    {% endif %}
    {% endfor %}
  </div>

  {# Next button #}
  {% if page.has_next %}
  <a href="{{ page.next_url }}"
     class="pagination-next"
     rel="next"
     hx-get="{{ page.next_url }}"
     hx-target=".posts-list"
     hx-select=".posts-list"
     hx-swap="outerHTML transition:true"
     hx-push-url="true">Older &raquo;</a>
  {% else %}
  <span class="pagination-next disabled">Older &raquo;</span>
  {% endif %}
</nav>
{% endif %}
