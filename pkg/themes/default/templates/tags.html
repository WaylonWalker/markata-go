{% extends "base.html" %}

{% block title %}{{ title | default:"Tags" }}{% endblock %}
{% block description %}{{ description | default:config.description | default:"" }}{% endblock %}

{% block content %}
<div class="tags-listing">
  <header class="tags-header">
    <h1>{{ title | default:"Tags" }}</h1>
    {% if description %}<p class="tags-description">{{ description }}</p>{% endif %}
    <p class="tags-count">{{ total_tags }} tag{{ total_tags|pluralize }} found</p>
  </header>

  {% if tag_list %}
  <div class="tags-cloud">
    {% for tag in tag_list %}
    <a href="{{ tag.Href }}" class="tag-item" data-count="{{ tag.Count }}">
      <span class="tag-name">{{ tag.Name }}</span>
      <span class="tag-count">({{ tag.Count }})</span>
    </a>
    {% endfor %}
  </div>

  <div class="tags-list">
    <table class="tags-table">
      <thead>
        <tr>
          <th>Tag</th>
          <th>Posts</th>
        </tr>
      </thead>
      <tbody>
        {% for tag in tag_list %}
        <tr>
          <td><a href="{{ tag.Href }}">{{ tag.Name }}</a></td>
          <td class="count">{{ tag.Count }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="no-tags">No tags found.</p>
  {% endif %}
</div>

<style>
.tags-listing {
  max-width: var(--content-width, 800px);
  margin: 0 auto;
  padding: var(--spacing-lg, 2rem);
}

.tags-header {
  margin-bottom: var(--spacing-xl, 3rem);
  text-align: center;
}

.tags-header h1 {
  margin-bottom: var(--spacing-sm, 0.5rem);
}

.tags-description {
  color: var(--color-text-muted, #666);
  margin-bottom: var(--spacing-sm, 0.5rem);
}

.tags-count {
  color: var(--color-text-muted, #666);
  font-size: 0.9em;
}

.tags-cloud {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm, 0.5rem);
  justify-content: center;
  margin-bottom: var(--spacing-xl, 3rem);
  padding: var(--spacing-lg, 2rem);
  background: var(--color-surface, #f5f5f5);
  border-radius: var(--radius-lg, 0.5rem);
}

.tag-item {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: var(--spacing-xs, 0.25rem) var(--spacing-sm, 0.5rem);
  background: var(--color-background, #fff);
  border: 1px solid var(--color-border, #ddd);
  border-radius: var(--radius-md, 0.25rem);
  text-decoration: none;
  color: var(--color-text, #333);
  transition: all 0.2s ease;
}

.tag-item:hover {
  background: var(--color-primary, #007bff);
  border-color: var(--color-primary, #007bff);
  color: var(--color-background, #fff);
  transform: translateY(-2px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.tag-name {
  font-weight: 500;
}

.tag-count {
  font-size: 0.85em;
  opacity: 0.7;
}

.tags-list {
  margin-top: var(--spacing-xl, 3rem);
}

.tags-table {
  width: 100%;
  border-collapse: collapse;
}

.tags-table th,
.tags-table td {
  padding: var(--spacing-sm, 0.5rem) var(--spacing-md, 1rem);
  text-align: left;
  border-bottom: 1px solid var(--color-border, #ddd);
}

.tags-table th {
  font-weight: 600;
  background: var(--color-surface, #f5f5f5);
}

.tags-table td.count {
  text-align: center;
  color: var(--color-text-muted, #666);
}

.tags-table tbody tr:hover {
  background: var(--color-surface, #f5f5f5);
}

.tags-table a {
  color: var(--color-primary, #007bff);
  text-decoration: none;
}

.tags-table a:hover {
  text-decoration: underline;
}

.no-tags {
  text-align: center;
  color: var(--color-text-muted, #666);
  font-style: italic;
}

/* Responsive */
@media (max-width: 600px) {
  .tags-listing {
    padding: var(--spacing-md, 1rem);
  }

  .tags-cloud {
    padding: var(--spacing-md, 1rem);
  }

  .tags-table th,
  .tags-table td {
    padding: var(--spacing-xs, 0.25rem) var(--spacing-sm, 0.5rem);
  }
}
</style>
{% endblock %}
