{# Footer component template #}
{# Usage: {% include "components/footer.html" %} #}
{# Requires: config.components.footer (FooterComponentConfig) #}

{% with footer = config.components.footer %}
{% if footer.enabled %}
<footer class="site-footer" data-pagefind-ignore>
    <div class="container">
        {% if footer.text %}
        <p class="footer-text">{{ footer.text }}</p>
        {% endif %}

        {% if footer.links %}
        <nav class="footer-links">
            {% for link in footer.links %}
            <a href="{{ link.url }}"{% if link.external %} target="_blank" rel="noopener noreferrer"{% endif %}>{{ link.label }}{% if link.external %}<span class="visually-hidden">(opens in new tab)</span>{% endif %}</a>
            {% endfor %}
        </nav>
        {% endif %}

        {# Format links for alternate views/formats #}
        {% if post or feed %}
        {% include "components/format-links.html" %}
        {% endif %}

        <div class="footer-bottom">
             {% if footer.show_copyright %}
             <p class="footer-copyright">
                 &copy; {{ "now" | date:"2006" }} {{ config.author | default:"" }}.
                 {% if config.license and config.license.name %}
                 Content licensed under
                 {% if config.license.url %}
                 <a href="{{ config.license.url }}" target="_blank" rel="noopener noreferrer">{{ config.license.name }}</a>
                 {% else %}
                 {{ config.license.name }}
                 {% endif %}.
                 {% endif %}
                 {% if footer.show_built_with %}Built with <a href="https://github.com/WaylonWalker/markata-go">markata-go</a> using {{ config.theme.name | default:"default" }} theme.{% endif %}
             </p>
             {% elif config.license and config.license.name %}
             {# Show license even if copyright is hidden #}
             <p class="footer-license">
                 Content licensed under
                 {% if config.license.url %}
                 <a href="{{ config.license.url }}" target="_blank" rel="noopener noreferrer">{{ config.license.name }}</a>
                 {% else %}
                 {{ config.license.name }}
                 {% endif %}
             </p>
             {% endif %}
            <p class="footer-shortcuts-hint">Press <kbd>?</kbd> for keyboard shortcuts</p>
        </div>
    </div>

    {# Site-wide h-card for IndieWeb identity #}
    {% include "components/h-card.html" %}
</footer>
{% endif %}
{% endwith %}
