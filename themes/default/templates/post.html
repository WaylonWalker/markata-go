{% extends "base.html" %}

{% block title %}{{ post.title }} | {{ config.title | default:'My Site' }}{% endblock %}
{% block description %}{{ post.description | default:'' }}{% endblock %}

{% block meta %}
{{ block.super }}
<meta property="og:title" content="{{ post.title }}">
<meta property="og:type" content="article">
{% if post.description %}
<meta property="og:description" content="{{ post.description }}">
{% endif %}
{% if post.date %}
<meta property="article:published_time" content="{{ post.date | atom_date }}">
{% endif %}
{% endblock %}

{% block content %}
<article class="post">
  <header class="post-header">
    <h1>{{ post.title }}</h1>
    {% if post.date or post.reading_time %}
    <div class="post-meta">
      {% if post.date %}<time datetime="{{ post.date | atom_date }}">{{ post.date | date:"January 2, 2006" }}</time>{% endif %}
      {% if post.reading_time %}<span>{{ post.reading_time }} min read</span>{% endif %}
    </div>
    {% endif %}
  </header>

  <div class="post-content{% if post.css_class %} {{ post.css_class }}{% endif %}">
    {{ body | safe }}
  </div>

  {% if post.tags %}
  <footer class="post-footer">
    <div class="tags">
      {% for tag in post.tags %}
      <a href="/tags/{{ tag | slugify }}/" class="tag">{{ tag }}</a>
      {% endfor %}
    </div>
  </footer>
  {% endif %}
</article>

{% if post.prev or post.next %}
<nav class="post-nav">
  {% if post.prev %}<a href="{{ post.prev.href }}" class="prev">{{ post.prev.title }}</a>{% endif %}
  {% if post.next %}<a href="{{ post.next.href }}" class="next">{{ post.next.title }}</a>{% endif %}
</nav>
{% endif %}
{% endblock %}
